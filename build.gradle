plugins {
    id 'java-gradle-plugin'
    id 'groovy'
    id 'com.gradle.plugin-publish' version '0.10.0'
}

group = 'de.otto.find'
//version = '0.1.0'
//
//apply plugin: ProjectVersionPlugin
//projectVersion {
//    deriveFromGitTag()
//}

repositories {
    jcenter()
}

dependencies {
//    implementation gradleApi()
//    implementation localGroovy()
}

tasks.create('testVersion') {
    doLast {
        println "The project's name    : ${project.name}"
        println "The project's version : ${project.version}"
    }
}

pluginBundle {
    website = 'https://github.com/otto-de/gradle-projectversion'
    vcsUrl = 'https://github.com/otto-de/gradle-projectversion.git'
    tags = ['gradle', 'version', 'git']
}

gradlePlugin {
    plugins {
        projectVersion {
            id = 'de.otto.find.project-version'
            displayName = 'Auto-Versioning for gradle-built artifacts'
            description = 'A plugin for deriving the projectâ€™s version automatically. Version may stem from git tags, timestamps or similar sources'
            implementationClass = 'de.otto.find.gradle.projectversion.ProjectVersionPlugin'
        }
    }
}
